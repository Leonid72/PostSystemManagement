<div class="container mt-4">
  <h2>Edit Post</h2>

  <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
    <!-- Title Field -->
    <div class="mb-3">
      <label for="title" class="form-label">Title</label>
      <input 
        type="text" 
        id="title" 
        class="form-control" 
        formControlName="title" 
        [ngClass]="{'is-invalid': editForm.controls['title'].invalid && editForm.controls['title'].touched}"
      >
      <div *ngIf="editForm.controls['title'].invalid && editForm.controls['title'].touched" class="invalid-feedback">
        Title is required and must be less than 50 characters.
      </div>
    </div>

    <!-- Content Field -->
    <div class="mb-3">
      <label for="content" class="form-label">Content</label>
      <textarea 
        id="content" 
        class="form-control" 
        formControlName="content" 
        rows="5"
        [ngClass]="{'is-invalid': editForm.controls['content'].invalid && editForm.controls['content'].touched}"
      ></textarea>
      <div *ngIf="editForm.controls['content'].invalid && editForm.controls['content'].touched" class="invalid-feedback">
        Content is required.
      </div>
    </div>

    <label for="place">Select a location</label>
    <select id="place" formControlName="placeid" (change)="onPlaceChange($event)">
        <option *ngFor="let place of places$ | async" [value]="place.id">{{ place.name }}</option>
    </select>

    <div class="mb-3">
        <label for="createdBy" class="form-label">Created By</label>
        <input type="text" id="createdBy" class="form-control" formControlName="createdBy">
      </div>

      <!-- <div class="mb-3">
        <label for="image" class="form-label">Upload Image</label>
        <input type="file" id="image" (change)="onFileSelect($event)" class="form-control">
      </div> -->
      <!-- <div *ngIf="imagePreview">
        <img [src]="imagePreview" alt="Image preview" width="100" height="100">
      </div> -->
      <div class="mb-3">
        <label for="imagePath" class="form-label">Image Path</label>
        <input type="text" id="imagePath"  class="form-control" formControlName="imagePath">
      </div>
    <!-- Buttons -->
    <button type="submit" class="btn btn-primary me-2" [disabled]="editForm.invalid">Save Changes</button>
    <button type="button" class="btn btn-secondary" (click)="router.navigate(['/posts'])">Cancel</button>
  </form>
</div>
